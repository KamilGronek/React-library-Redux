(this["webpackJsonplibrary-redux"]=this["webpackJsonplibrary-redux"]||[]).push([[0],{32:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},51:function(e,t,r){},75:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(12),a=r.n(o),s=r(3),l=(r(48),r(49),r(0)),i=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("img",{className:"header__logo",src:"logo192.png",alt:""}),Object(l.jsx)("h1",{children:"React's library"}),Object(l.jsx)("hr",{className:"header__hr"})]})},u=r(14),j=r(4),b=(r(51),function(){var e=Object(s.c)((function(e){return e.library.countBorrowBooks})),t=Object(s.c)((function(e){return e.library.countReturnedBooks}));return Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsxs)(u.b,{exact:!0,to:"/",children:["Borrowed books ",Object(l.jsxs)("em",{children:["(",e,")"]})]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(u.b,{to:"/returnedBooks",children:["Returned books ",Object(l.jsxs)("em",{children:["(",t,")"]})]})})]})})}),d=r(23),O=r.n(d),h=r(37),x=r(38),p=r.n(x),f="FETCH_SUCCESS",k="CHANGE_VALUE_INPUT",y="CHANGE_VALUE_CHECKBOX",m="CHANGE_DATE",g="BORROW_A_BOOK",B="RETURN_A_BOOK",_="CONFIRM_RETURNED_BOOK",v="SHOW_MODAL",w=function(e){return{type:f,payload:e}},N=function(e,t){return{type:v,payload:e,id:t}};r(75);function E(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.library.allBooks})),r=Object(s.c)((function(e){return e.inputValue.inputValue})),n=Object(s.c)((function(e){return e.library.checked})),c=Object(s.c)((function(e){return e.library.actualDate})),o=(new Date).toISOString().slice(0,10),a=1*o.slice(0,4)+1+"-12-31",i=t.filter((function(e){return e.title===r}));return Object(l.jsx)("nav",{className:"menu",children:Object(l.jsxs)("form",{onSubmit:function(a){(a.preventDefault(),r)&&(t.forEach((function(e){e.important=!!n,e.date=c||o})),e({type:g,payload:i}))},children:[Object(l.jsxs)("select",{value:r,onChange:function(t){return e(function(e){return{type:k,payload:e}}(t.target.value))},children:[Object(l.jsx)("option",{children:"Borrow a book:"}),t.map((function(e){return Object(l.jsx)("option",{value:e.title,children:e.title},e.id)}))]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"checkbox",checked:n,onChange:function(t){return e(function(e){return{type:y,payload:e}}(t.target.checked))}}),Object(l.jsx)("label",{children:"Priority"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"date",children:" Time to give back a book: "}),Object(l.jsx)("input",{type:"date",value:c,min:o,max:a,onChange:function(t){return e(function(e){return{type:m,payload:e}}(t.target.value))}}),Object(l.jsx)("br",{}),Object(l.jsx)("hr",{className:"menu__hr"}),Object(l.jsx)("div",{className:"menu__button__centerize",children:Object(l.jsx)("button",{children:"BORROW"})})]})})}function R(){var e=Object(s.c)((function(e){return e})),t=Object(s.b)();console.log(e);var r=function(){var e=Object(h.a)(O.a.mark((function e(){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("data/jsonTab.json").catch((function(e){console.log(e)}));case 2:r=e.sent,t(w(r.data.books)),console.log(r.data.books);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(l.jsx)(E,{})}r(32);var D=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.library.returnedBooks})),r=t.sort((function(e,t){return e.id-t.id}));return t.length>0?Object(l.jsx)("section",{className:"gallery",children:r.map((function(t){return Object(l.jsxs)("div",{className:"gallery__book",children:[Object(l.jsx)("span",{className:"gallery__bookId",children:t.id}),Object(l.jsx)("img",{src:t.cover.small,alt:""}),Object(l.jsx)("h3",{children:t.title}),Object(l.jsx)("hr",{className:"gallery__hr"}),Object(l.jsx)("h4",{children:Object(l.jsx)("i",{children:Object(l.jsxs)("span",{className:"gallery__book-author",children:["By ",t.author]})})}),Object(l.jsxs)("div",{className:"gallery__book-details",children:[Object(l.jsxs)("i",{children:["Release Date: ",t.releaseDate,Object(l.jsx)("br",{}),"Pages: ",t.pages,Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Links: ",Object(l.jsx)("a",{href:t.link,children:"shop"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:Object(l.jsxs)("em",{children:["(confirm returned book: ",t.date,")"]})}),Object(l.jsx)("button",{onClick:function(){return e(function(e){return{type:_,payload:e}}(t))},className:"confirm",children:" Confirm returned book"})]})]},t.id)}))}):Object(l.jsx)("p",{className:"gallery-info",children:"All books are returned"})},C=r(15),S=r.n(C);S.a.setAppElement("#root");var A=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.library.borrowedBooks})),r=Object(s.c)((function(e){return e.modal.modalIsOpen})),n=Object(s.c)((function(e){return e.id.id}));return Object(l.jsx)(S.a,{isOpen:r,onRequestClose:function(){return e(N(!1))},style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0},content:{margin:"0 auto",background:"white",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px",width:"400px"}},children:t.filter((function(e){return e.id===n})).map((function(e){return Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:e.cover.large,alt:"",style:{height:"500px",padding:"60px 10px"}})},e.id)}))})};S.a.setAppElement("#root");var I=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.library.borrowedBooks})),r={color:"red"},n=t.sort((function(e,t){return e.id-t.id}));return Object(l.jsxs)(l.Fragment,{children:[t.length>0?Object(l.jsx)("section",{className:"gallery",children:n.map((function(t){return Object(l.jsxs)("div",{className:"gallery__book",children:[Object(l.jsx)("span",{className:"gallery__bookId",children:t.id}),Object(l.jsx)("img",{className:"gallery__img",src:t.cover.small,alt:"",onClick:function(){return e(N(!0,t.id))}}),Object(l.jsx)("h3",{children:t.title}),Object(l.jsx)("hr",{className:"gallery__hr"}),Object(l.jsx)("h4",{children:Object(l.jsx)("i",{children:Object(l.jsxs)("span",{className:"gallery__book-author",children:["By ",t.author]})})}),Object(l.jsxs)("div",{className:"gallery__book-details",children:[Object(l.jsxs)("i",{children:["Release Date: ",t.releaseDate,Object(l.jsx)("br",{}),"Pages: ",t.pages,Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Links: ",Object(l.jsx)("a",{href:t.link,children:"shop"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:Object(l.jsxs)("em",{style:t.important?r:null,children:["(give back to: ",t.date,")"]})}),Object(l.jsx)("button",{onClick:function(){return e(function(e){return{type:B,payload:e}}(t))},children:"Give back a book"})]})]},t.id)}))}):Object(l.jsx)("p",{className:"gallery-info",children:"No borrowed books "}),Object(l.jsx)(A,{})]})};var T=function(){return Object(l.jsx)(u.a,{children:Object(l.jsxs)("div",{className:"grid",children:[Object(l.jsx)(i,{}),Object(l.jsx)(R,{}),Object(l.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(l.jsx)(I,{})}}),Object(l.jsx)(j.a,{path:"/returnedBooks",render:function(){return Object(l.jsx)(D,{})}}),Object(l.jsx)(b,{})]})})},U=r(17),V=r(16),L=r(5),H=(new Date).toISOString().slice(0,10),X={allBooks:[],actualDate:"",borrowedBooks:[],returnedBooks:[],countBorrowBooks:0,countReturnedBooks:0,checked:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(L.a)(Object(L.a)({},e),{},{modalIsOpen:t.payload,id:t.id});default:return e}},G=Object(U.a)({library:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(L.a)(Object(L.a)({},e),{},{allBooks:t.payload,borrowedBooks:[],returnedBooks:[],countBorrowBooks:e.countBorrowBooks,countReturnedBooks:e.countReturnedBooks,actualDate:H});case y:return Object(L.a)(Object(L.a)({},e),{},{checked:t.payload});case m:return Object(L.a)(Object(L.a)({},e),{},{actualDate:t.payload});case g:return Object(L.a)(Object(L.a)({},e),{},{actualDate:H,borrowedBooks:[].concat(Object(V.a)(e.borrowedBooks),[t.payload[0]]),allBooks:e.allBooks.filter((function(e){return e.title!==t.payload[0].title})),returnedBooks:Object(V.a)(e.returnedBooks),countBorrowBooks:e.borrowedBooks.length+1,countReturnedBooks:e.countReturnedBooks,checked:!1});case B:return Object(L.a)(Object(L.a)({},e),{},{borrowedBooks:e.borrowedBooks.filter((function(e){return e.id!==t.payload.id})),returnedBooks:[].concat(Object(V.a)(e.returnedBooks),[t.payload]),countBorrowBooks:e.borrowedBooks.length-1,countReturnedBooks:e.returnedBooks.length+1});case _:return Object(L.a)(Object(L.a)({},e),{},{allBooks:[].concat(Object(V.a)(e.allBooks),[t.payload]),returnedBooks:e.returnedBooks.filter((function(e){return e.id!==t.payload.id})),countReturnedBooks:e.returnedBooks.length-1});default:return e}},inputValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(L.a)(Object(L.a)({},e),{},{inputValue:t.payload});default:return e}},modal:F,id:F}),K=Object(U.b)(G,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(s.a,{store:K,children:Object(l.jsx)(T,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.f4437cb3.chunk.js.map